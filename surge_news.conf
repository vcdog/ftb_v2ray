# ä½ å¯ä»¥ä»è¯¥ URL ä¸‹è½½è¿™ä¸ªé…ç½®æ–‡ä»¶: https://blankmagic.github.io/surge/Profile.conf
# å¯¼å…¥é…ç½®åç¼–è¾‘ç­–ç•¥ç»„ä¸­è®¢é˜…åœ°å€
# Version 2022.03

[General]
# --- GENERAL ---
# Enhanced Wi-Fi Assist
wifi-assist = false
# Hybrid Network
all-hybrid = true

# Latency Benchmark
internet-test-url = http://bing.com
proxy-test-url = http://cp.cloudflare.com/generate_204
test-timeout = 5

# GeoIP Database
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb

# IPv6 Support
ipv6 = true

# --- Wi-Fi ACCESS ---
//è‹¥å…è®¸è¿œç¨‹è®¿é—®å°† <false> æ”¹ä¸º <true>,ä»… iOS
allow-wifi-access = false
allow-hotspot-access = true //æ— é™çƒ­ç‚¹ä»£ç†
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

//è‹¥å…è®¸è¿œç¨‹è®¿é—®å°† <127.0.0.1> æ”¹ä¸º <0.0.0.0>,ä»… macOS
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153

# --- REMOTE CONTROLLER ---
# Remote Controller
external-controller-access = key@127.0.0.1:8888

# HTTP API & Web Dashboard
//This option allows using HTTP APIs to control
http-api = key@0.0.0.0:6166
//ä½¿ç”¨ HTTPS æ›¿ä»£ HTTP åè®®ï¼Œéœ€è¦å…ˆé…ç½® MitM çš„ CA è¯ä¹¦ï¼ŒåŒæ—¶éœ€è¦åœ¨å®¢æˆ·ç«¯è®¾å¤‡ä¸Šæ‰‹åŠ¨å®‰è£…å¹¶ä¿¡ä»» CA è¯ä¹¦ã€‚
http-api-tls = false
//å¼€å¯è¯¥é€‰é¡¹åå¯ä»¥é€šè¿‡æµè§ˆå™¨æ§åˆ¶ Surgeï¼Œæœ¬æœºæµè§ˆå™¨è¾“å…¥127.0.0.1:6166
http-api-web-dashboard = true

# --- COMPATIBILITY ---
# å…¼å®¹æ¨¡å¼
compatibility-mode = False
# è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, passenger.t3go.cn, localhost, *.local
# æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

# --- DNS ---
# The IP addresses of upstream DNS servers
dns-server = 223.5.5.5, 119.29.29.29, 8.8.8.8, system
# ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# The URL of the DNS-over-HTTPS server
//doh-server = https://doh.pub/dns-query //DNSPod
# DoH è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
doh-follow-outbound-mode = false

# --- ROUTING ---
# åŒ…å«æ‰€æœ‰ç½‘ç»œè¯·æ±‚
include-all-networks = false
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
include-local-networks = false

# --- ADVANCED ---
# Log Level
loglevel = notify
# å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# Always Real IP Hosts
always-real-ip = link-ip.nextdns.io, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# Hijack DNS
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# TCP Force HTTP Hosts
force-http-engine-hosts = *.ott.cibntv.net, 123.59.31.1,119.18.193.135, 122.14.246.33, 175.102.178.52, 116.253.24.*, 175.6.26.*, 220.169.153.*
# VIF Excluded Routes
//tun-excluded-routes = 239.255.255.250/32
# VIF Included Routes
//tun-included-routes = 192.168.1.12/32
# å½“ Wi-Fi ä¸æ˜¯é¦–é€‰ç½‘ç»œæ—¶ SSID ç»„ç­–ç•¥ä½¿ç”¨é»˜è®¤ç­–ç•¥
use-default-policy-if-wifi-not-primary = false

# æ§åˆ¶å½“ UDP æµé‡è¢«åŒ¹é…åˆ°ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ç­–ç•¥æ—¶çš„è¡Œä¸º
#   - DIRECTï¼šå›é€€åˆ° DIRECT ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰
#   - REJECTï¼šå›é€€åˆ° REJECT ç­–ç•¥
udp-policy-not-supported-behaviour = REJECT

[Replica]
# æŠ“å–æµé‡ => è¿‡æ»¤å™¨ 1ä¸ºå¼€å¯ï¼Œ0ä¸ºå…³é—­
# éšè— Apple è¯·æ±‚
hide-apple-request = 1
# éšè— Crashlytics è¯·æ±‚
hide-crash-reporter-request = 1
# éšè— UDP ä¼šè¯
hide-udp = 1
# å…³é”®è¯è¿‡æ»¤å™¨
//noneï¼ˆå…³é—­å…³é”®è¯è¿‡æ»¤å™¨ï¼‰ / whitelistï¼ˆä»…è®°å½•åŒ…å«å…³é”®è¯çš„è¯·æ±‚ï¼‰ / blacklistï¼ˆä»…è®°å½•ä¸åŒ…å«å…³é”®è¯çš„è¯·æ±‚ï¼‰ / patternï¼ˆè®°å½•åŒ¹é…é€šé…ç¬¦çš„è¯·æ±‚ï¼‰
keyword-filter-type = blacklist
keyword-filter = icloud, ocsp, logs, analytic, imap, adthor, applovin, appnext, talk, dropbox, github, spys, nexdns, 149.154, 91.108

[Proxy]
# å½“è¯·æ±‚ä¸º HTTP è¯·æ±‚æ—¶è¿”å›ä¸€ä¸ªæå°çš„ GIF
REJECT-TINYGIF = reject-tinygif
# é˜»æ­¢è¯·æ±‚
REJECT = reject
# ç›´æ¥è¿æ¥
DIRECT = direct
net-disk-zxc-01 = vmess, disk.iftballs.com, 443, username=11c20c73-8341-4021-cea8-b727167ab3b8, skip-cert-verify=true, sni=disk.iftballs.com, ws=true, ws-path=/11c20c73, ws-headers=Host:"disk.iftballs.com", vmess-aead=true, tls=true, tfo=true
ipws-cdn-02 = vmess, net.310888.xyz, 443, username=b4fa1e68-c64b-4513-d093-7690c2bcab30, skip-cert-verify=true, sni=net.310888.xyz, ws=true, ws-path=/b4fa1e68, ws-headers=Host:"net.310888.xyz", vmess-aead=true, tls=true, tfo=true
ipws-cdn-03 = vmess, net.310888.xyz, 443, username=1ec10477-bd03-4933-8431-ca6e2c046822, skip-cert-verify=true, sni=net.310888.xyz, ws=true, ws-path=/1ec10477, ws-headers=Host:"net.310888.xyz", vmess-aead=true, tls=true, tfo=true

WARP = wireguard, section-name = Cloudflare, test-url=http://1.1.1.1/generate_204


[Proxy Group]
ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,DIRECT,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,WARP
â™»ï¸ è‡ªåŠ¨é€‰æ‹© = url-test,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,,WARP,url=http://www.gstatic.com/generate_204,interval=300,timeout=50
ğŸŒ å›½å¤–åª’ä½“ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,WARP
ğŸ“² ç”µæŠ¥ä¿¡æ¯ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,WARP
â“‚ï¸ å¾®è½¯æœåŠ¡ = select,ğŸ¯ å…¨çƒç›´è¿,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,WARP
ğŸ è‹¹æœæœåŠ¡ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,WARP
ğŸ“¢ è°·æ­ŒFCM = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,WARP
ğŸ¯ å…¨çƒç›´è¿ = select,DIRECT,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,â™»ï¸ è‡ªåŠ¨é€‰æ‹©
ğŸ›‘ å…¨çƒæ‹¦æˆª = select,REJECT,DIRECT
ğŸƒ åº”ç”¨å‡€åŒ– = select,REJECT,DIRECT
ğŸŸ æ¼ç½‘ä¹‹é±¼ = select,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,ğŸ¯ å…¨çƒç›´è¿,â™»ï¸ è‡ªåŠ¨é€‰æ‹©,net-disk-zxc-01,ipws-cdn-02,ipws-cdn-03,WARP

[Rule]

# --- RULE-SET ---
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,ğŸ›‘ å…¨çƒæ‹¦æˆª,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,ğŸƒ åº”ç”¨å‡€åŒ–,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list,ğŸ“¢ è°·æ­ŒFCM,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list,â“‚ï¸ å¾®è½¯æœåŠ¡,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list,ğŸ è‹¹æœæœåŠ¡,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list,ğŸ“² ç”µæŠ¥ä¿¡æ¯,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,ğŸŒ å›½å¤–åª’ä½“,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyLite.list,ğŸš€ èŠ‚ç‚¹é€‰æ‹©,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list,ğŸ¯ å…¨çƒç›´è¿,update-interval=86400
GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
FINAL,ğŸŸ æ¼ç½‘ä¹‹é±¼


# è¯¥æ®µå®šä¹‰æœ¬åœ° DNS è®°å½•
# è¯¥åŠŸèƒ½ç­‰åŒäº /etc/hostsï¼ŒåŠ ä¸Šäº†æ³›è§£æå’Œåˆ«åæ”¯æŒã€‚
[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188

# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29

# PlayStation
*.dl.playstation.net = server:119.29.29.29

# Router Admin Panel
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.synology.com = server:syslib // Synology Router
sila.razer.com = server:syslib // Razer Sila Router
router.asus.com = server:syslib // Asus Router
routerlogin.net = server:syslib // Netgear Router
orbilogin.com = server:syslib // Netgear Obri Router
www.LinksysSmartWiFi.com = server:syslib // Linksys Router
LinksysSmartWiFi.com = server:syslib // Linksys Router
myrouter.local = server:syslib // Linksys Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST Router
# CUSTOM HOST

# è¯¥æ®µå®šä¹‰é’ˆå¯¹ HTTP è¯·æ±‚çš„ URL é‡å®šå‘è§„åˆ™
# æœ‰ä¸¤ç§é‡å®šå‘æ–¹å¼: "header" å’Œ "302"
# 
# Header æ¨¡å¼
# Surge ä¼šä¿®æ”¹å‘å‡ºçš„ http headerï¼Œå¿…è¦æ—¶è¿˜ä¼šä¿®æ”¹ Host å­—æ®µã€‚å®¢æˆ·ç«¯å°†
# æ„ŸçŸ¥ä¸åˆ°è¿™ä¸ªé‡å®šå‘è¿‡ç¨‹. ä¸æ”¯æŒé‡å®šå‘åˆ°ä¸€ä¸ª HTTPS çš„åœ°å€ã€‚
# 
# 302 æ¨¡å¼
# Surge ç›´æ¥ç®€å•çš„è¿”å›ä¸€ä¸ª 302 é‡å®šå‘å›åº”ã€‚
[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302

# Redirect Google Maps Service
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302

# Redirect HTTP to HTTPS
^https?:\/\/(www.)?taobao\.com\/ https://taobao.com/ 302
^https?:\/\/(www.)?jd\.com\/ https://www.jd.com/ 302
^https?:\/\/(www.)?mi\.com\/ https://www.mi.com/ 302
^https?:\/\/you\.163\.com\/ https://you.163.com/ 302
^https?:\/\/(www.)?suning\.com\/ https://suning.com/ 302
^https?:\/\/(www.)?yhd\.com\/ https://yhd.com/ 302

# AbeamTV
^https?:\/\/api\.abema\.io\/v\d\/ip\/check - reject
# CUSTOM URL

[Header Rewrite]
^https?:\/\/.*\.zhihu\.com\/(question|topic) header-replace User-Agent "osee2unifiedRelease/4432 osee2unifiedReleaseVersion/7.8.0 Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mo    bile/15E148"

# è¯¥æ®µä»…åœ¨ iOS ç‰ˆæœ¬ä¸‹ç”Ÿæ•ˆã€‚ 
# ä½ å¯ä»¥ä¸ºæŸäº›ç‰¹å®šçš„ WiFi ç½‘ç»œè®¾ç½®è®¾ç½®å‚æ•°
# å‚æ•°:
# suspend: "true" æˆ– "false"
# åœ¨è¯¥ç½‘ç»œä¸‹ Surge å°†æš‚åœå·¥ä½œã€‚ è¯·æ³¨æ„ï¼Œå¦‚æœä½ åœ¨è¯¥ç½‘ç»œä¸‹ç›´æ¥å¯åŠ¨ Surgeï¼Œé‚£ä¹ˆ 
# Surge ä¾ç„¶ä¼šå·¥ä½œã€‚åªæœ‰å½“ä»å…¶ä»–ç½‘ç»œåˆ‡æ¢åˆ°è¯¥ç½‘ç»œæ—¶ï¼ŒSurge æ‰ä¼šæš‚åœã€‚
#
# SSID Setting æ®µè¡¨è¾¾å¼ï¼ˆé€‚ç”¨ SUBNET è§„åˆ™ï¼‰
#   å¯ä½¿ç”¨ MCCMNC:100-200 åŒ¹é…ç‰¹å®šæ•°æ®ç½‘ç»œ
#   å¯ä½¿ç”¨ SSID:value ç‰¹å®šåŒ¹é… SSIDï¼Œæ”¯æŒé€šé…ç¬¦
#   å¯ä½¿ç”¨ BSSID:value ç‰¹å®šåŒ¹é… BSSIDï¼Œæ”¯æŒé€šé…ç¬¦
#   å¯ä½¿ç”¨ ROUTER:value ç‰¹å®šåŒ¹é…è·¯ç”±åœ°å€
#   å¯ä½¿ç”¨ TYPE:WIFI åŒ¹é…æ‰€æœ‰ WiFi ç½‘ç»œ
#   å¯ä½¿ç”¨ TYPE:CELLULAR åŒ¹é…æ‰€æœ‰æ•°æ®ç½‘ç»œ
#   å¯ä½¿ç”¨ TYPE:WIRED åŒ¹é…æ‰€æœ‰æœ‰çº¿ç½‘ç»œï¼ˆiOS ä¸Šæ”¯æŒ USB ç½‘ç»œé€‚é…
# å‚æ•° cellular-fallback å¯å•ç‹¬æ§åˆ¶ä¸€äº› Wi-Fi ä¸‹çš„ all-hybrid å’Œ wifi-assist è¡Œä¸º
#   cellular-fallback=default ä½¿ç”¨ [General] ä¸­çš„ all-hybrid å’Œ wifi-assist é…ç½®
#   cellular-fallback=off å…³é—­ all-hybrid å’Œ wifi-assist
#   cellular-fallback=hybrid å¼€å¯ all-hybrid 
#   cellular-fallback=wifi-assist å¼€å¯ wifi-assist
# å¦‚æ— å‰ç¼€åˆ™æŒ‰ç…§æ—§ç‰ˆè§„åˆ™åŒ¹é… SSIDã€BSSIDã€è·¯ç”±åœ°å€
# SSID Setting æ®µå†…å®¹ä»ä¸Šè‡³ä¸‹ä¾æ¬¡åŒ¹é…ï¼ŒåŒ¹é…åˆ°ç¬¬ä¸€ä¸ªç»“æœåç«‹åˆ»ç»ˆæ­¢
#
# ä¸­å›½ç”¨æˆ·è‹¥ä½¿ç”¨ TFO å»ºè®®å¼ºåˆ¶å…³é—­æ•°æ®ç½‘ç»œä¸Šçš„ TFOï¼Œé¿å…äº§ç”Ÿé—®é¢˜ï¼Œç„¶ååœ¨å·²æµ‹è¯•è¿‡çš„ç½‘ç»œä¸Šå¼ºåˆ¶å¼€å¯ã€‚åªæœ‰è¿™æ ·é…ç½®åæ–¹å¯å……åˆ†äº«å— TFO çš„ä¼˜åŠ¿ã€‚
[SSID Setting]
# Temporarily Suspend
"SSID Here" suspend=true
# TCP Fast Open
"My Home" tfo-behaviour=force-enabled
TYPE:CELLULAR tfo-behaviour=force-disabled

[MITM]
skip-server-cert-verify = true
hostname = www.google.cn, api.abema.io, *.zhihu.com, -CUSTOMMitM

[Panel]
flushDNS = script-name=flushDNS,update-interval=-1

[Script]
# Flush DNS, show the DNS delay and server.
flushDNS = type=generic,timeout=10,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/flushDNS.js,argument=icon=wand.and.stars.inverse&color=#3d3d5b
